Voici les cibles à tester en priorité (elles comptent pour la couverture Sonar et je ne vois aucun test correspondant dans l’arborescence fournie) :

1. com.bnpparibas.dsibddf.ap00420.streamfact.batch.paymentrequestpaid.writer.PaymentRequestPaidWriter
→ Classe présente, pas listée côté tests. Les readers et Configuration sont exclus de Sonar, pas les writers, donc celle-ci fera monter la couverture.


2. com.bnpparibas.dsibddf.ap00420.streamfact.batch.paymentrequestpaid.writer.BillingSpaceUpdatePaymentRequestItemWriter
→ Même logique : writer non exclu, pas de test vu dans la sortie target/test-classes.


3. com.bnpparibas.dsibddf.ap00420.streamfact.batch.replay.billingspacecreation.creationerror.writer.SendBillingSpaceWriter
→ Writer non exclu ; le reader du même job est exclu (inutile de l’uniter), donc cible idéale.


4. com.bnpparibas.dsibddf.ap00420.streamfact.batch.billingspace.synchro.sender.writer.BillingSpaceSendSynchroItemWriter
→ Writer non exclu, pas de test repéré (les tests existants concernent le package synchro.update.writer).




---

À éviter (n’augmente pas la couverture Sonar)

Tous les Reader des batchs (patterns */reader/*Reader.java). 

Toutes les classes de configuration (*Config.java, *Configuration.java, JobConfiguration*.java). 

La majeure partie des infrastructure REST (request/response/config), domain/commons, domain/engines, etc., exclus par le pom.



---

Indices de l’arborescence

On voit bien des tests déjà présents pour synchro.update.writer (donc moins prioritaires). 

Je ne vois pas de test compilé pour les writers listés en (1) à (4). 



---

Mini-plan de test (JUnit4 + Mockito, compatibles Sonar/Jenkins)

Utiliser @RunWith(MockitoJUnitRunner.class), @Before, @Test, assertions JUnit (assertEquals, assertTrue, …) et verifyNoInteractions(...) si besoin. Pas d’AssertJ, pas de Jupiter.

Pour les ItemWriter : préparer un Chunk<> avec des objets factices, vérifier les appels (saveAll, sendDossierBox, mise à jour repo/événements) et les branches « liste vide ».
(Ceci respecte vos contraintes JUnit4/Sonar.)


Si tu veux, je te génère tout de suite la classe de test JUnit4 pour PaymentRequestPaidWriter (ou l’une des autres) au format exact demandé.